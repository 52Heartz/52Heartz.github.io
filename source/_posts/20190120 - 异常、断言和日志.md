---
title: 异常、断言和日志
date: 2019-01-20 17:00:09
updated:
categories:
tags:
urlname: about-java-exception
---



<!-- more -->

# 关于 Java 异常的开销

《阿里巴巴 Java 开发手册》中规定：

> 【强制】异常不要用来做流程控制，条件控制。
>
> 说明：异常设计的初衷是解决程序运行中的各种意外情况，且异常的处理效率比条件判断方式
> 要低很多。

异常之所以开销很大，是因为异常对象创建的时候开销很大。

创建异常开销大的原因在于异常基类 Throwable.java 的 public synchronized native Throwable fillInStackTrace()方法。

解决方法：
自定义异常继承Exception，并重写fillInStackTrace()。以该异常作为逻辑控制的异常的基类，那么异常性能将大幅度提高，和if else开销相近。

## 参考文章

[Java异常开销问题](http://climbran.github.io/2015/07/29/java-exception-performance/)

[Java异常(二) 《Effective Java》中关于异常处理的几条建议](http://wangkuiwu.github.io/2012/04/15/exception/)

[品阿里 Java 开发手册有感](http://ifeve.com/%E5%93%81%E9%98%BF%E9%87%8C-java-%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%E6%9C%89%E6%84%9F/)

[Java Exception性能问题](http://www.blogjava.net/stone2083/archive/2010/07/09/325649.html)