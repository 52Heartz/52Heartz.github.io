---
title: Markdown 引用中嵌套代码块
date: 2019-03-16 19:12:12
updated:
categories:
tags:
urlname: markdown-code-inside-quotation
---

最近有篇文章在引用中嵌套代码块，在 Typora 编辑器和博客的 NexT 主题中显式效果不一样，所以特地深入探究了一下。

<!-- more -->

一下测试效果基于 `Hexo 3.8.0` 、NexT 主题 `NexT.Gemini v6.6.0`。

```c
#include <stdio.h>
int main()
{
    printf("Hello, World!");
    return 0;
}
```

# 会出问题的写法

> This is a hello world program.
>
> ```c
> #include <stdio.h>
> int main()
> {
>        printf("Hello, World!");
>        return 0;
> }
> ```
>
> Yes, it is.

### 问题

### 显示效果

Typora 中正常显示。

Hexo 中代码块中会有额外的 `>`。代码块带行号。有配色。

# 正确的写法

## 正确写法1：多四个空格

> This is a hello world program.
>
>     #include <stdio.h>
>     int main()
>     {
>         printf("Hello, World!");
>         return 0;
>     }
> 
> Yes, it is.

### 问题

### 显式效果

Typora 中显式不正常，没有代码块效果。

Hexo 显示正常，不过没有代码行号，也不支持配色。

## 正确写法2：使用 Hexo 特定代码块写法

> This is a hello world program.
> {% codeblock lang:c %}
#include <stdio.h>
int main()
{
    printf("Hello, World!");
    return 0;
}
{% endcodeblock %}
> Yes, it is.

## 正确写法3：代码块中不使用 `>`

### 问题

Typora 编辑器中，只能在源代码模式下进行这样的编辑，但是一旦退出源代码模式，Typora 就会自动给引用的所有行前边添加 `>`。所以除非，直接在源代码模式下编辑之后不再推出源代码模式，才能保证显示效果。

### 显示效果

Typora 中