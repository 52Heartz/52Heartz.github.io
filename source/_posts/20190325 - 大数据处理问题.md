---
title: 大数据处理问题
mathjax: true
date: 2019-03-25 15:46:00
updated:
categories:
tags:
urlname: big-data-processing
---

Top K 问题、海量数据去重等问题。

<!-- more -->

# 海量数据去重

可以使用**位图（Bitmap）**或者**布隆过滤器（Bloom filter）**。

位图核心思想，用一个二进制位来表示一个元素是否已经存在。

布隆过滤器核心思想：也是使用二进制位，不过对于一个元素，使用三个hash函数分别计算，每个hash函数都得出一个位置，然后同时把三个位置的值都设置为1。

进行判断的时候，如果发现hash出来的三个位置上已经都是1了，就报告这个元素已经存在了。

如果发现其中某个位置上不是1，说明这个元素不存在。

- 关于布隆过滤器误报的可能性

因为hash函数有可能出现冲突，所以发现三个位置上都是1的时候，不一定是这个元素的相同元素之前计算出来的位置，而是发生hash冲突的元素把这三个位置设置为1了，这个元素实际上不在集合中，但是却被布隆过滤器判定为在集合中。这就是布隆过滤器可能存在的误报。

[怎样对10亿个数字快速去重？——浅析位图数据结构及其应用](https://www.cnblogs.com/zhanghaiba/p/3594559.html)

注意，上边那篇文章中讲到使用char，在C++中一个char占一个字节，但是在Java中，一个char占两个字节，因为Java使用的是Unicode编码。